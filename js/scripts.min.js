function scrollToGatewayInputError(){var e=jQuery(".gateway-errors,.assisted-cc-input-feedback").first(),t=e.closest("form");t||(t=jQuery("form").first()),t.find('button[type="submit"],input[type="submit"]').prop("disabled",!1).removeClass("disabled").find("i.fas,i.far,i.fal,i.fab").removeAttr("class").addClass("fas fa-arrow-circle-right").find("span").toggle(),e.length&&elementOutOfViewPort(e[0])&&jQuery("html, body").animate({scrollTop:e.offset().top-50},500)}function elementOutOfViewPort(e){var t=e.getBoundingClientRect(),i={};return i.top=t.top<0,i.left=t.left<0,i.bottom=t.bottom>(window.innerHeight||document.documentElement.clientHeight),i.right=t.right>(window.innerWidth||document.documentElement.clientWidth),i.any=i.top||i.left||i.bottom||i.right,i.any}!function(e){var t="iCheck",i=t+"-helper",n="radio",a="checked",r="un"+a,o="disabled",s="determinate",d="in"+s,l="update",u="type",c="touchbegin.i touchend.i",h="addClass",p="removeClass",f="trigger",m="label",y="cursor",g=/ip(hone|od|ad)|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;function v(e,t,i){var r=e[0],c=/er/.test(i)?d:/bl/.test(i)?o:a,h=i==l?{checked:r[a],disabled:r[o],indeterminate:"true"==e.attr(d)||"false"==e.attr(s)}:r[c];if(/^(ch|di|in)/.test(i)&&!h)C(e,c);else if(/^(un|en|de)/.test(i)&&h)j(e,c);else if(i==l)for(var p in h)h[p]?C(e,p,!0):j(e,p,!0);else t&&"toggle"!=i||(t||e[f]("ifClicked"),h?r[u]!==n&&j(e,c):C(e,c))}function C(l,c,f){var m=l[0],g=l.parent(),v=c==a,C=c==d,b=c==o,S=C?s:v?r:"enabled",M=w(l,S+Q(m[u])),x=w(l,c+Q(m[u]));if(!0!==m[c]){if(!f&&c==a&&m[u]==n&&m.name){var D=l.closest("form"),T='input[name="'+m.name+'"]';(T=D.length?D.find(T):e(T)).each(function(){this!==m&&e(this).data(t)&&j(e(this),c)})}C?(m[c]=!0,m[a]&&j(l,a,"force")):(f||(m[c]=!0),v&&m[d]&&j(l,d,!1)),k(l,v,c,f)}m[o]&&w(l,y,!0)&&g.find("."+i).css(y,"default"),g[h](x||w(l,c)||""),g.attr("role")&&!C&&g.attr("aria-"+(b?o:a),"true"),g[p](M||w(l,S)||"")}function j(e,t,n){var l=e[0],c=e.parent(),f=t==a,m=t==d,g=t==o,v=m?s:f?r:"enabled",C=w(e,v+Q(l[u])),j=w(e,t+Q(l[u]));!1!==l[t]&&(!m&&n&&"force"!=n||(l[t]=!1),k(e,f,v,n)),!l[o]&&w(e,y,!0)&&c.find("."+i).css(y,"pointer"),c[p](j||w(e,t)||""),c.attr("role")&&!m&&c.attr("aria-"+(g?o:a),"false"),c[h](C||w(e,v)||"")}function b(i,n){i.data(t)&&(i.parent().html(i.attr("style",i.data(t).s||"")),n&&i[f](n),i.off(".i").unwrap(),e(m+'[for="'+i[0].id+'"]').add(i.closest(m)).off(".i"))}function w(e,i,n){if(e.data(t))return e.data(t).o[i+(n?"":"Class")]}function Q(e){return e.charAt(0).toUpperCase()+e.slice(1)}function k(e,t,i,n){n||(t&&e[f]("ifToggled"),e[f]("change")[f]("ifChanged")[f]("if"+Q(i)))}e.fn[t]=function(r,s){var y='input[type="checkbox"], input[type="'+n+'"]',w=e(),Q=function(t){t.each(function(){var t=e(this);w=t.is(y)?w.add(t):w.add(t.find(y))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(r))return r=r.toLowerCase(),Q(this),w.each(function(){var t=e(this);"destroy"==r?b(t,"ifDestroyed"):v(t,!0,r),e.isFunction(s)&&s()});if("object"!=typeof r&&r)return this;var k=e.extend({checkedClass:a,disabledClass:o,indeterminateClass:d,labelHover:!0},r),S=k.handle,M=k.hoverClass||"hover",x=k.focusClass||"focus",D=k.activeClass||"active",T=!!k.labelHover,U=k.labelHoverClass||"hover",W=0|(""+k.increaseArea).replace("%","");return"checkbox"!=S&&S!=n||(y='input[type="'+S+'"]'),W<-50&&(W=-50),Q(this),w.each(function(){var r=e(this);b(r);var s,d=this,y=d.id,w=-W+"%",Q=100+2*W+"%",S={position:"absolute",top:w,left:w,display:"block",width:Q,height:Q,margin:0,padding:0,background:"#fff",border:0,opacity:0},H=g?{position:"absolute",visibility:"hidden"}:W?S:{position:"absolute",opacity:0},P="checkbox"==d[u]?k.checkboxClass||"icheckbox":k.radioClass||"i"+n,R=e(m+'[for="'+y+'"]').add(r.closest(m)),A=!!k.aria,I=t+"-"+Math.random().toString(36).substr(2,6),E='<div class="'+P+'" '+(A?'role="'+d[u]+'" ':"");A&&R.each(function(){E+='aria-labelledby="',this.id?E+=this.id:(this.id=I,E+=I),E+='"'}),E=r.wrap(E+"/>")[f]("ifCreated").parent().append(k.insert),s=e('<ins class="'+i+'"/>').css(S).appendTo(E),r.data(t,{o:k,s:r.attr("style")}).css(H),k.inheritClass&&E[h](d.className||""),k.inheritID&&y&&E.attr("id",t+"-"+y),"static"==E.css("position")&&E.css("position","relative"),v(r,!0,l),R.length&&R.on("click.i mouseover.i mouseout.i "+c,function(t){var i=t[u],n=e(this);if(!d[o]){if("click"==i){if(e(t.target).is("a"))return;v(r,!1,!0)}else T&&(/ut|nd/.test(i)?(E[p](M),n[p](U)):(E[h](M),n[h](U)));if(!g)return!1;t.stopPropagation()}}),r.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[u],i=e.keyCode;return"click"!=t&&("keydown"==t&&32==i?(d[u]==n&&d[a]||(d[a]?j(r,a):C(r,a)),!1):void("keyup"==t&&d[u]==n?!d[a]&&C(r,a):/us|ur/.test(t)&&E["blur"==t?p:h](x)))}),s.on("click mousedown mouseup mouseover mouseout "+c,function(e){var t=e[u],i=/wn|up/.test(t)?D:M;if(!d[o]){if("click"==t?v(r,!1,!0):(/wn|er|in/.test(t)?E[h](i):E[p](i+" "+D),R.length&&T&&i==M&&R[/ut|nd/.test(t)?p:h](U)),!g)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto),function(e,t){"object"!=typeof e.WHMCS&&(e.WHMCS=t)}(window,{hasModule:function(e){return void 0!==WHMCS[e]&&Object.getOwnPropertyNames(WHMCS[e]).length>0},loadModule:function(e,t){if(!this.hasModule(e))if(WHMCS[e]={},"function"==typeof t)t.apply(WHMCS[e]);else for(var i in t)t.hasOwnProperty(i)&&(WHMCS[e][i]={},t[i].apply(WHMCS[e][i]))}}),jQuery(document).ready(function(){jQuery(document).on("click",".disable-on-click",function(){if(jQuery(this).addClass("disabled"),jQuery(this).hasClass("spinner-on-click")){var e=$(this).find("i.fas,i.far,i.fal,i.fab");jQuery(e).removeAttr("class").addClass("fas fa-spinner fa-spin")}}).on("click","#openTicketSubmit.disabled",function(){return!1})}),function(e){WHMCS.hasModule("authn")||WHMCS.loadModule("authn",e)}({provider:function(){var e=!1;return this.feedbackContainer=function(){return jQuery(".providerLinkingFeedback")},this.btnContainer=function(){return jQuery(".providerPreLinking")},this.feedbackMessage=function(e){void 0===e&&(e="complete_sign_in");var t=jQuery("p.providerLinkingMsg-preLink-"+e);return t.length?t.first().html():""},this.showProgressMessage=function(t){this.feedbackContainer().fadeIn("fast",function(){"function"!=typeof t||e||(e=!0,t())})},this.preLinkInit=function(e){this.feedbackContainer().removeClass("alert-danger alert-success").addClass("alert alert-info").html('<i class="fas fa-fw fa-spinner fa-spin"></i> '+this.feedbackMessage()).hide();var t=this.btnContainer();if(t.length)if(t.data("hideOnPrelink")){var i=this;t.fadeOut("false",function(){i.showProgressMessage(e)})}else t.data("disableOnPrelink")?(t.find(".btn").addClass("disabled"),this.showProgressMessage(e)):this.showProgressMessage(e);else this.showProgressMessage(e)},this.displayError=function(e,t,i){jQuery("#providerLinkingMessages .provider-name").html(e);var n=this.feedbackMessage("connect_error");if(t){var a=this.feedbackMessage(t);a&&(n=a)}i&&$(".btn-logged-in-admin").length>0&&(n+=" Error: "+i),this.feedbackContainer().removeClass("alert-info alert-success").addClass("alert alert-danger").html(n).slideDown()},this.displaySuccess=function(e,t,i){var n=i.icon,a=t.htmlTarget,r=t.targetLogin,o=t.targetRegister,s=i.name,d="";switch(e.result){case"logged_in":case"2fa_needed":d=this.feedbackMessage("2fa_needed"),this.feedbackContainer().removeClass("alert-danger alert-warning alert-success").addClass("alert alert-info").html(d),window.location=e.redirect_url?decodeURIComponent(e.redirect_url):decodeURIComponent(t.redirectUrl);break;case"linking_complete":var l="";l=(l=e.remote_account.email?e.remote_account.email:e.remote_account.firstname+" "+e.remote_account.lastname).trim(),d=this.feedbackMessage("linking_complete").trim().replace(":displayName",s),l&&(d=d.replace(/\.$/," ("+l+").")),this.feedbackContainer().removeClass("alert-danger alert-warning alert-info").addClass("alert alert-success").html(n+d);break;case"login_to_link":if(a===r)d=this.feedbackMessage("login_to_link-signin-required"),this.feedbackContainer().removeClass("alert-danger alert-success alert-info").addClass("alert alert-warning").html(n+d);else{var u=jQuery("input[name=email]"),c=jQuery("input[name=firstname]"),h=jQuery("input[name=lastname]");if(""===u.val()&&u.val(e.remote_account.email),""===c.val()&&c.val(e.remote_account.firstname),""===h.val()&&h.val(e.remote_account.lastname),a===o)"object"==typeof WHMCS.client.registration&&WHMCS.client.registration.prefillPassword(),d=this.feedbackMessage("login_to_link-registration-required"),this.feedbackContainer().fadeOut("slow",function(){$(this).removeClass("alert-danger alert-success alert-info").addClass("alert alert-warning").html(n+d).fadeIn("fast")});else{"object"==typeof WHMCS.client.registration&&WHMCS.client.registration.prefillPassword();var p=this;this.feedbackContainer().each(function(e,t){var i=$(t),a=i.siblings("div .providerPreLinking").data("linkContext");i.fadeOut("slow",function(){d="checkout-new"===a?p.feedbackMessage("checkout-new"):p.feedbackMessage("login_to_link-signin-required"),i.removeClass("alert-danger alert-success alert-info").addClass("alert alert-warning").html(n+d).fadeIn("fast")})})}}break;case"other_user_exists":d=this.feedbackMessage("other_user_exists"),this.feedbackContainer().removeClass("alert-info alert-success").addClass("alert alert-danger").html(n+d).slideDown();break;case"already_linked":d=this.feedbackMessage("already_linked"),this.feedbackContainer().removeClass("alert-info alert-success").addClass("alert alert-danger").html(n+d).slideDown();break;default:d=this.feedbackMessage("default"),this.feedbackContainer().removeClass("alert-info alert-success").addClass("alert alert-danger").html(n+d).slideDown()}},this.signIn=function(e,t,i,n,a){jQuery.ajax(e).done(function(e){n(),WHMCS.authn.provider.displaySuccess(e,t,i),jQuery("#tableLinkedAccounts").length&&WHMCS.ui.dataTable.getTableById("tableLinkedAccounts").ajax.reload()}).error(function(){a(),WHMCS.authn.provider.displayError()})},this}}),function(e){WHMCS.hasModule("client")||WHMCS.loadModule("client",e)}({registration:function(){return this.prefillPassword=function(e){if(void 0===(e=e||{}).hideContainer){var t=jQuery("#inputSecurityQId").attr("id")?"#containerPassword":"#containerNewUserSecurity";e.hideContainer=jQuery(t),e.hideInputs=!0}else"string"==typeof e.hideContainer&&e.hideContainer.length&&(e.hideContainer=jQuery(e.hideContainer));void 0===e.form&&(e.form={password:[{id:"inputNewPassword1"},{id:"inputNewPassword2"}]});var i=function(){for(var t=WHMCS.utils.simpleRNG(),i=0,n=e.form.password.length;i<n;i++)jQuery("#"+e.form.password[i].id).val(t).trigger("keyup")};e.hideInputs?e.hideContainer.slideUp("fast",i):i()},this}}),function(e){WHMCS.hasModule("http")||WHMCS.loadModule("http",e)}({jqClient:function(){return _getSettings=function(e,t,i,n){return"object"==typeof e?e:("function"==typeof t&&(i=t,t=null),{url:e,data:t,success:i,dataType:n})},this.get=function(e,t,i,n){return WHMCS.http.client.request(jQuery.extend(_getSettings(e,t,i,n),{type:"GET"}))},this.post=function(e,t,i,n){return WHMCS.http.client.request(jQuery.extend(_getSettings(e,t,i,n),{type:"POST"}))},this.jsonGet=function(e){e=e||{},this.get(e.url,e.data,function(t){t.warning?(console.log("[WHMCS] Warning: "+t.warning),"function"==typeof e.warning&&e.warning(t.warning)):t.error?(console.log("[WHMCS] Error: "+t.error),"function"==typeof e.error&&e.error(t.error)):"function"==typeof e.success&&e.success(t)},"json").error(function(t,i){console.log("[WHMCS] Error: "+i),"function"==typeof e.fail&&e.fail(i)}).always(function(){"function"==typeof e.always&&e.always()})},this.jsonPost=function(e){e=e||{},this.post(e.url,e.data,function(t){t.warning?(console.log("[WHMCS] Warning: "+t.warning),"function"==typeof e.warning&&e.warning(t.warning)):t.error?(console.log("[WHMCS] Error: "+t.error),"function"==typeof e.error&&e.error(t.error)):"function"==typeof e.success&&e.success(t)},"json").fail(function(t,i){console.log("[WHMCS] Fail: "+i),"function"==typeof e.fail&&e.fail(i,t)}).always(function(){"function"==typeof e.always&&e.always()})},this},client:function(){var e=this;return _beforeRequest=function(e){return void 0===e.type&&(e.type="GET"),e},this.request=function(e){return e=_beforeRequest(e||{}),jQuery.ajax(e)},jQuery.each(["get","post","put","delete"],function(t,i){e[i]=function(e,t){return function(i){return(i=i||{}).type=e.toUpperCase(),t.request(i)}}(i,e)}),this}}),function(e){WHMCS.hasModule("ui")||WHMCS.loadModule("ui",e)}({confirmation:function(){var e=[];return this.register=function(t){return void 0===t&&(t="[data-toggle=confirmation]"),e.indexOf(t)<0&&e.push(t),jQuery(t).confirmation({rootSelector:t}),e},this},dataTable:function(){return this.tables={},this.register=function(){var e=this;jQuery("table.data-driven").each(function(t,i){e.getTableById(i.id,void 0)})},this.getTableById=function(e,t){var i=jQuery("#"+e);if(void 0===this.tables[e])void 0===t&&(t={dom:'<"listtable"ift>pl',paging:!1,lengthChange:!1,searching:!1,ordering:!0,info:!1,autoWidth:!0,columns:[],lengthMenu:[10,25,50,100,500,1e3],language:{emptyTable:i.data("langEmptyTable")?i.data("langEmptyTable"):"No records found"}}),jQuery.each(i.data(),function(e,i){if(void 0!==i)if("ajaxUrl"!==e)if("lengthChange"!==e){if("pageLength"!==e)return"langEmptyTable"===e?(void 0===t.language&&(t.language={}),void(t.language.emptyTable=i)):"langZeroRecords"===e?(void 0===t.language&&(t.language={}),void(t.language.zeroRecords=i)):void(t.key=i);t.pageLength=i}else t.lengthChange=i;else t.ajax={url:i}}),jQuery.each(i.find("th"),function(){void 0===t.columns&&(t.columns=[]),t.columns.push({data:jQuery(this).data("name")})}),this.tables[e]=this.initTable(i,t);else if(void 0!==t){var n=this.tables[e],a=n.init(),r=jQuery.extend(a,t);n.destroy(),this.tables[e]=this.initTable(i,r)}return this.tables[e]},this.initTable=function(e,t){var i=e.DataTable(t),n=this;return e.data("on-draw")?i.on("draw.dt",function(t,i){var n=e.data("on-draw");"function"==typeof window[n]&&window[n](t,i)}):e.data("on-draw-rebind-confirmation")&&i.on("draw.dt",function(e){n.rebindConfirmation(e)}),i},this.rebindConfirmation=function(e){for(var t=this,i=e.target.id,n=WHMCS.ui.confirmation.register(),a=0,r=n.length;a<r;a++)jQuery(n[a]).on("confirmed.bs.confirmation",function(e){e.preventDefault(),WHMCS.http.jqClient.post(jQuery(e.target).data("target-url"),{token:csrfToken}).done(function(e){"success"!==e.status&&"okay"!==e.status||t.getTableById(i,void 0).ajax.reload()})})},this},clipboard:function(){return this.copy=function(e){e.preventDefault();var t=$(e.currentTarget),i=$(t).data("clipboard-target"),n=$(i).parent();try{var a=$("<textarea>").css("position","fixed").css("opacity","0").css("width","1px").css("height","1px").val($(i).val());n.append(a),a.focus().select(),document.execCommand("copy")}finally{a.remove()}t.tooltip({trigger:"click",placement:"bottom"}),WHMCS.ui.toolTip.setTip(t,"Copied!"),WHMCS.ui.toolTip.hideTip(t)},this},toolTip:function(){this.setTip=function(e,t){var i=e.data("bs.tooltip");return"in"!==i.hoverState&&(i.hoverState="in"),e.attr("data-original-title",t),i.show(),i},this.hideTip=function(e){return setTimeout(function(){e.data("bs.tooltip").hide()},2e3)}},jsonForm:function(){return this.managedElements="input,textarea,select",this.initFields=function(e){var t=this;$(e).find(t.managedElements).each(function(){var e=this;$(e).on("keypress change",function(){t.fieldHasError(e)&&t.clearFieldError(e)})})},this.init=function(e){var t=this;t.initFields(e),$(e).on("submit",function(i){i.preventDefault(),i.stopPropagation(),t.clearErrors(e);var n=$(e).parents('.modal[role="dialog"]').first();$(n).length&&($(n).on("show.bs.modal hidden.bs.modal",function(){t.clearErrors(e)}),$(n).on("show.bs.modal",function(){$(e)[0].reset()})),WHMCS.http.client.post({url:$(e).attr("action"),data:$(e).serializeArray()}).done(function(i){t.onSuccess(e,i)}).fail(function(i){t.onError(e,i)}).always(function(i){t.onRequestComplete(e,i)})})},this.initAll=function(){var e=this;$('form[data-role="json-form"]').each(function(){e.init(this)})},this.markFieldErrors=function(e,t){var i,n,a=null;for(var r in t)t.hasOwnProperty(r)&&(a=t[r]),n=this.managedElements.split(",").map(function(e){return e+'[name="'+r+'"]'}).join(","),i=$(e).find(n),a&&($(i).parents(".form-group").addClass("has-error"),$(i).attr("title",a),$(i).tooltip());$(e).find(".form-group.has-error input[title]").first().tooltip("show")},this.fieldHasError=function(e){return $(e).parents(".form-group").hasClass("has-error")},this.clearFieldError=function(e){try{$(e).tooltip("dispose")}catch(t){$(e).tooltip("destroy")}$(e).parents(".form-group").removeClass("has-error")},this.onSuccess=function(e,t){var i=$(e).data("on-success");"function"==typeof i&&i(t.data)},this.onError=function(e,t){t.responseJSON&&t.responseJSON.fields&&"object"==typeof t.responseJSON.fields?this.markFieldErrors(e,t.responseJSON.fields):console.log("Unknown error - please try again later.");var i=$(e).data("on-error");"function"==typeof i&&i(t)},this.clearErrors=function(e){var t=this;$(e).find(t.managedElements).each(function(){t.clearFieldError(this)})},this.onRequestComplete=function(e,t){},this},effects:function(){this.errorShake=function(e){t=t||{};var t=$.extend({direction:"left",distance:8,times:3,speed:90},t);return e.each(function(){var e=$(this),i={position:e.css("position"),top:e.css("top"),bottom:e.css("bottom"),left:e.css("left"),right:e.css("right")};e.css("position","relative");var n="up"===t.direction||"down"===t.direction?"top":"left",a="up"===t.direction||"left"===t.direction?"pos":"neg",r={},o={},s={};r[n]=("pos"===a?"-=":"+=")+t.distance,o[n]=("pos"===a?"+=":"-=")+2*t.distance,s[n]=("pos"===a?"-=":"+=")+2*t.distance,e.animate(r,t.speed);for(var d=1;d<t.times;d++)e.animate(o,t.speed).animate(s,t.speed);e.animate(o,t.speed).animate(r,t.speed/2,function(){e.css(i)})})}}}),WHMCS.hasModule("form")||WHMCS.loadModule("form",function(){return this.checkAllBound=!1,this.register=function(){this.checkAllBound||(this.bindCheckAll(),this.checkAllBound=!0)},this.bindCheckAll=function(){jQuery("body").on("click",".btn-check-all",function(e){var t=jQuery(e.target),i=jQuery("#"+t.data("checkbox-container")+' input[type="checkbox"]');if(t.data("btn-check-toggle")){var n="Deselect All",a="Select All";t.data("label-text-deselect")&&(n=t.data("label-text-deselect")),t.data("label-text-select")&&(a=t.data("label-text-select")),t.hasClass("toggle-active")?(i.prop("checked",!1),t.text(a),t.removeClass("toggle-active")):(i.prop("checked",!0),t.text(n),t.addClass("toggle-active"))}else t.data("btn-toggle-on")?i.prop("checked",!0):i.prop("checked",!1)})},this.reloadCaptcha=function(e){if("undefined"!=typeof grecaptcha)grecaptcha.reset();else{e||(e=jQuery("#inputCaptchaImage"));var t=jQuery(e).data("src");jQuery(e).attr("src",t+"?nocache="+(new Date).getTime());var i=jQuery("#inputCaptcha");i.length&&i.val("")}},this});var recaptchaLoadComplete=!1,recaptchaCount=0,recaptchaType="recaptcha",recaptchaValidationComplete=!1;WHMCS.hasModule("recaptcha")||WHMCS.loadModule("recaptcha",function(){return this.register=function(){if(!recaptchaLoadComplete){var e=[],t=jQuery(".btn-recaptcha").parents("form"),i=!1;t.each(function(t,n){if("undefined"!=typeof recaptchaSiteKey){recaptchaCount+=1;var a=jQuery(n),r=a.find(".btn-recaptcha"),o="undefined"!=typeof requiredText?requiredText:"Required",s="divDynamicRecaptcha"+recaptchaCount;i=r.hasClass("btn-recaptcha-invisible");var d=a.find("#"+s+" .g-recaptcha"),l=a.find(".recaptcha-container"),u=a;l.length&&(l.attr("id",l.attr("id")+recaptchaCount),u=l),d.length||(u.append('<div id="#'+s+'" class="g-recaptcha"></div>'),d=u.find("#"+s)),i||d.data("toggle","tooltip").data("placement","bottom").data("trigger","manual").attr("title",o).hide();var c=a.find("input[name='submit']");if(c.length){var h=a.prop("action");a.prop("action",h+"&submit=1"),c.remove()}window[s+"Callback"]=function(){i&&a.submit()},i?(recaptchaType="invisible",a.on("submit.recaptcha",function(e){var t=a.find(".g-recaptcha").data("recaptcha-id");grecaptcha.getResponse(t).trim()?recaptchaValidationComplete=!0:(e.preventDefault(),grecaptcha.execute(t),recaptchaValidationComplete=!1)})):(e.push(function(){d.slideDown("fast",function(){d.find(":first").addClass("center-block")})}),e.push(function(){d.find(":first").addClass("center-block")}))}else console.log("Recaptcha site key not defined")}),window.recaptchaLoadCallback=function(){jQuery(".g-recaptcha").each(function(e,t){var i=jQuery(t),n=i.closest("form").find(".btn-recaptcha"),a=i.attr("id").substring(1),r=grecaptcha.render(t,{sitekey:recaptchaSiteKey,size:n.hasClass("btn-recaptcha-invisible")?"invisible":"normal",callback:a+"Callback"});i.data("recaptcha-id",r)})},t.length&&jQuery.getScript("https://www.google.com/recaptcha/api.js?onload=recaptchaLoadCallback&render=explicit",function(){for(var t=e.length-1;t>=0;t--)e[t]()}),recaptchaLoadComplete=!0}},this}),WHMCS.hasModule("utils")||WHMCS.loadModule("utils",function(){return this.simpleRNG=function(){for(var e=0,t=0;e<3;t++)e+=Math.floor(10*Math.random()/2);e=Math.floor(e);for(var i="",n=0;n<e;n++)v=(Math.random()+1).toString(24).split(".")[1],Math.random()>.5?i+=btoa(v).substr(0,4):i+=v,Math.random()>.5&&(i+="./$_-#!,^*()|".substr(Math.floor(13*Math.random()),1));return i},this.getRouteUrl=function(e){return whmcsBaseUrl+"/index.php?rp="+e},this.validateBaseUrl=function(){void 0===window.whmcsBaseUrl?(console.log("Warning: The WHMCS Base URL definition is missing from your active template. Please refer to https://docs.whmcs.com/WHMCS_Base_URL_Template_Variable for more information and details of how to resolve this warning."),window.whmcsBaseUrl=this.autoDetermineBaseUrl(),window.whmcsBaseUrlAutoSet=!0):""===window.whmcsBaseUrl&&void 0!==window.whmcsBaseUrlAutoSet&&!0===window.whmcsBaseUrlAutoSet&&(window.whmcsBaseUrl=this.autoDetermineBaseUrl())},this.autoDetermineBaseUrl=function(){var e=window.location.href,t=-1;if(void 0!==e&&(t=e.indexOf(".php")),-1===t&&void 0!==(e=jQuery("#Primary_Navbar-Home a").attr("href"))&&(t=e.indexOf(".php")),-1!==t){var i=(e=e.substring(0,t)).lastIndexOf("/");if(!1!==i)return e.substring(0,i)}return""},this.normaliseStringValue=function(e){return e?e.toLowerCase().replace(/\s/g,"-"):""},this.generatePassword=function(e){for(var t=this.getPasswordCharacterSet(),i="",n=0;e>n;n++)i+=t[this.randomInt(t.length)];return i},this.getPasswordCharacterSet=function(){for(var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%()*+,-.:;=@_|{ldelim}{rdelim}~",t=[],i=0;e.length>i;i++){var n=e.charCodeAt(i);if(!(55296>n||n>=57344)){if(56320>n&&e.length>i+1){var a=e.charCodeAt(i+1);if(a>=56320&&57344>a){r=e.substring(i,i+2),i++,-1==t.indexOf(r)&&t.push(r);continue}}throw"Invalid UTF-16"}var r=e.charAt(i);-1==t.indexOf(r)&&t.push(r)}return t},this.randomInt=function(e){var t=this.randomIntMathRandom(e);return t=(t+this.randomIntBrowserCrypto(e))%e},this.randomIntMathRandom=function(e){var t=Math.floor(Math.random()*e);if(0>t||t>=e)throw"Arithmetic exception";return t},this.randomIntBrowserCrypto=function(e){var t=null;if("crypto"in window)t=crypto;else{if(!("msCrypto"in window))return 0;t=msCrypto}if("getRandomValues"in t&&"Uint32Array"in window&&"function"==typeof Uint32Array||(t=null),null==t)return 0;var i=new Uint32Array(1);do{t.getRandomValues(i)}while(i[0]-i[0]%e>4294967296-e);return i[0]%e},this}),WHMCS.utils.validateBaseUrl(),"undefined"==typeof localTrans&&(localTrans=function(e,t){return"undefined"!=typeof _localLang&&void 0!==_localLang[e]&&_localLang[e].length>0?_localLang[e]:t});var domainLookupCallCount,checkoutForm,furtherSuggestions,hideCvcOnCheckoutForExistingCard=0;function validateCheckoutCreditCardInput(e){var t=jQuery('input[name="ccinfo"]:checked').val(),i=checkoutForm.find('*[type="submit"]'),n=null,a=!0,r=checkoutForm.find('input[name="paymentmethod"]:checked'),o=r.hasClass("is-credit-card"),s="RemoteCreditCard"===r.data("payment-type"),d=jQuery("#inputCardNumber");if(checkoutForm.find(".form-group").removeClass("has-error"),checkoutForm.find(".field-error-msg").hide(),o&&!s){var l=checkoutForm.find("#inputCardCVV2");if("new"===t){if(l=checkoutForm.find("#inputCardCVV"),n=jQuery.payment.cardType(checkoutForm.find("#inputCardNumber").val()),!jQuery.payment.validateCardNumber(checkoutForm.find("#inputCardNumber").val())||d.hasClass("unsupported")){var u=d.data("message-invalid");d.hasClass("unsupported")&&(u=d.data("message-unsupported")),checkoutForm.find("#inputCardNumber").setInputError(u).showInputError(),a=!1}jQuery.payment.validateCardExpiry(checkoutForm.find("#inputCardExpiry").payment("cardExpiryVal"))||(checkoutForm.find("#inputCardExpiry").showInputError(),a=!1)}l.is(":visible")&&!jQuery.payment.validateCardCVC(l.val(),n)&&(l.showInputError(),a=!1),a||(i.prop("disabled",!1).removeClass("disabled").find("i").removeAttr("class").addClass("fas fa-arrow-circle-right"),e.preventDefault())}}function hasDomainLookupEnded(){3==++domainLookupCallCount&&jQuery("#btnCheckAvailability").removeAttr("disabled").removeClass("disabled")}function hasProductDomainLookupEnded(e,t){++domainLookupCallCount==e&&(t.removeAttr("disabled").removeClass("disabled"),jQuery('input[name="domainoption"]').iCheck("enable"))}function domainGotoNextStep(){jQuery("#domainLoadingSpinner").show(),jQuery("#frmProductDomainSelections").submit()}function removeItem(e,t){jQuery("#inputRemoveItemType").val(e),jQuery("#inputRemoveItemRef").val(t),jQuery("#modalRemoveItem").modal("show")}function updateConfigurableOptions(e,t){WHMCS.http.jqClient.post(whmcsBaseUrl+"/cart.php","a=cyclechange&ajax=1&i="+e+"&billingcycle="+t,function(e){jQuery("#productConfigurableOptions").html(jQuery(e).find("#productConfigurableOptions").html()),jQuery("input").iCheck({inheritID:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"})}),recalctotals()}function recalctotals(){jQuery("#orderSummaryLoader").is(":visible")||jQuery("#orderSummaryLoader").fadeIn("fast");var e=Math.floor(1e6*Math.random()+1);window.lastSliderUpdateRequestId=e;var t=WHMCS.http.jqClient.post(whmcsBaseUrl+"/cart.php","ajax=1&a=confproduct&calctotal=true&"+jQuery("#frmConfigureProduct").serialize());t.done(function(t){e==window.lastSliderUpdateRequestId&&jQuery("#producttotal").html(t)}),t.always(function(){jQuery("#orderSummaryLoader").delay(500).fadeOut("slow")})}function recalculateRenewalTotals(){jQuery("#orderSummaryLoader").is(":visible")||jQuery("#orderSummaryLoader").fadeIn("fast");var e=Math.floor(1e6*Math.random()+1);window.lastSliderUpdateRequestId=e,WHMCS.http.jqClient.get(WHMCS.utils.getRouteUrl("/cart/domain/renew/calculate")).done(function(t){e===window.lastSliderUpdateRequestId&&jQuery("#producttotal").html(t.body)}).always(function(){jQuery("#orderSummaryLoader").delay(500).fadeOut("slow")})}function selectDomainPricing(e,t,i,n,a){jQuery("#domainSuggestion"+a).iCheck("check"),jQuery("[name='domainsregperiod["+e+"]']").val(i),jQuery("[name='"+e+"-selected-price']").html('<b class="glyphicon glyphicon-shopping-cart"></b> '+i+" "+n+" @ "+t)}function selectDomainPeriodInCart(e,t,i,n){var a=jQuery("#orderSummaryLoader");a.not(":visible")&&a.fadeIn("fast"),jQuery("[name='"+e+"Pricing']").html(i+" "+n+' <span class="caret"></span>'),jQuery("[name='"+e+"Price']").html(t);var r=WHMCS.http.jqClient.post(window.location.pathname,{domain:e,period:i,a:"updateDomainPeriod",token:csrfToken});r.done(function(e){e.forceReload?window.location.reload():(e.domains.forEach(function(e){jQuery("[name='"+e.domain+"Price']").parent("div").find(".renewal-price").html(e.prefixedRenewPrice+e.shortRenewalYearsLanguage)}),jQuery("#subtotal").html(e.subtotal),e.promotype&&jQuery("#discount").html(e.discount),e.taxrate&&jQuery("#taxTotal1").html(e.taxtotal),e.taxrate2&&jQuery("#taxTotal2").html(e.taxtotal2),jQuery("#recurring").find("span:visible").not("span.cost").fadeOut("fast"),e.totalrecurringannually&&jQuery("#recurringAnnually").fadeIn("fast").find(".cost").html(e.totalrecurringannually),e.totalrecurringbiennially&&jQuery("#recurringBiennially").fadeIn("fast").find(".cost").html(e.totalrecurringbiennially),e.totalrecurringmonthly&&jQuery("#recurringMonthly").fadeIn("fast").find(".cost").html(e.totalrecurringmonthly),e.totalrecurringquarterly&&jQuery("#recurringQuarterly").fadeIn("fast").find(".cost").html(e.totalrecurringquarterly),e.totalrecurringsemiannually&&jQuery("#recurringSemiAnnually").fadeIn("fast").find(".cost").html(e.totalrecurringsemiannually),e.totalrecurringtriennially&&jQuery("#recurringTriennially").fadeIn("fast").find(".cost").html(e.totalrecurringtriennially),jQuery("#totalDueToday").html(e.total))}),r.always(function(){a.delay(500).fadeOut("slow")})}function loadMoreSuggestions(){var e,t=jQuery("#domainSuggestions");for(e=1;e<=10;e++){if(!(furtherSuggestions>0))return void jQuery("div.more-suggestions").find("a").addClass("hidden").end().find("span.no-more").removeClass("hidden");t.find("div.domain-suggestion.clone:hidden:first").slideDown(),furtherSuggestions=t.find("div.domain-suggestion.clone:hidden").length}}function validate_captcha(e){var t=jQuery("#g-recaptcha-response"),i=jQuery("#divDynamicRecaptcha"),n=jQuery("#inputCaptcha");return t.length&&!t.val()?(i.tooltip("show"),!1):n.length&&!n.val()?(n.tooltip("show"),!1):void WHMCS.http.jqClient.post(e.attr("action"),e.serialize()+"&a=validateCaptcha",null,"json").done(function(t){t.error?(jQuery("#inputCaptcha").attr("data-original-title",t.error).tooltip("show"),n.length&&jQuery("#inputCaptchaImage").replaceWith('<img id="inputCaptchaImage" src="'+whmcsBaseUrl+"/includes/verifyimage.php?nocache="+(new Date).getTime()+'" align="middle" />')):(jQuery("#captchaContainer").remove(),e.trigger("submit"))})}function selectPreferredCard(){var e=jQuery('input[name="ccinfo"]:visible'),t=e.first(),i=e.filter("[data-order-preference=0]");i.length&&(t=i),t.iCheck("check")}jQuery(document).ready(function(){jQuery("#order-standard_cart").find("input").not(".no-icheck").iCheck({inheritID:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"}),jQuery(".mc-promo .header").click(function(e){e.preventDefault(),jQuery(e.target).is(".btn, .btn span,.btn .fa")||(jQuery(this).parent().find(".rotate").toggleClass("down"),jQuery(this).parent().find(".body").slideToggle("fast"))}),jQuery(".mc-promos.viewcart .mc-promo:first-child .header").click();var e=jQuery("#inputCardNumber"),t=jQuery("#inputCardCVV2");e.length&&(e.payment("formatCardNumber"),jQuery("#inputCardCVV").payment("formatCardCVC"),jQuery("#inputCardStart").payment("formatCardExpiry"),jQuery("#inputCardExpiry").payment("formatCardExpiry")),t.length&&t.payment("formatCardCVC");var i=jQuery("#orderSummary");if(i.length){var n=jQuery("#scrollingPanelContainer").parent(".row").offset(),a=jQuery("#scrollingPanelContainer").parent(".row").outerHeight()-35,r=15;jQuery(window).resize(function(){n=jQuery("#scrollingPanelContainer").parent(".row").offset(),a=jQuery("#scrollingPanelContainer").parent(".row").outerHeight()-35,o()}),jQuery(window).scroll(function(){o()}),o()}function o(){if("none"===jQuery("#scrollingPanelContainer").css("float"))return i.stop().css("margin-top","0"),!1;var e=i.outerHeight(),t=0;void 0!==n&&(t=n.top);var o=jQuery(window).scrollTop()-t+r;o>a-e&&(o=a-e),jQuery(window).scrollTop()>t?i.stop().animate({marginTop:o}):i.stop().animate({marginTop:0})}if(jQuery("#frmConfigureProduct").submit(function(e){e.preventDefault();var t=jQuery("#btnCompleteProductConfig"),i=jQuery(t).html();jQuery(t).find("i").removeClass("fa-arrow-circle-right").addClass("fa-spinner fa-spin"),WHMCS.http.jqClient.post(whmcsBaseUrl+"/cart.php","ajax=1&a=confproduct&"+jQuery("#frmConfigureProduct").serialize(),function(e){e?(jQuery("#btnCompleteProductConfig").html(i),jQuery("#containerProductValidationErrorsList").html(e),jQuery("#containerProductValidationErrors").show(),jQuery(window).scrollTop()>jQuery("#containerProductValidationErrors").offset().top&&jQuery("html, body").scrollTop(jQuery("#containerProductValidationErrors").offset().top-15)):window.location=whmcsBaseUrl+"/cart.php?a=confdomains"})}),jQuery("#productConfigurableOptions").on("ifChecked","input",function(){recalctotals()}),jQuery("#productConfigurableOptions").on("ifUnchecked","input",function(){recalctotals()}),jQuery("#productConfigurableOptions").on("change","select",function(){recalctotals()}),jQuery(".addon-products").on("click",".panel-addon",function(e){e.preventDefault();var t=jQuery(this);t.hasClass("panel-addon-selected")?t.find('input[type="checkbox"]').iCheck("uncheck"):t.find('input[type="checkbox"]').iCheck("check")}),jQuery(".addon-products").on("ifChecked",".panel-addon input",function(e){var t=jQuery(this).parents(".panel-addon");t.addClass("panel-addon-selected"),t.find('input[type="checkbox"]').iCheck("check"),t.find(".panel-add").html('<i class="fas fa-shopping-cart"></i> '+localTrans("addedToCartRemove","Added to Cart (Remove)")),recalctotals()}),jQuery(".addon-products").on("ifUnchecked",".panel-addon input",function(e){var t=jQuery(this).parents(".panel-addon");t.removeClass("panel-addon-selected"),t.find('input[type="checkbox"]').iCheck("uncheck"),t.find(".panel-add").html('<i class="fas fa-plus"></i> '+localTrans("addToCart","Add to Cart")),recalctotals()}),jQuery("#frmConfigureProduct").on("ifChecked",".addon-selector",function(e){recalctotals()}),0==jQuery(".domain-selection-options input:checked").length){var s=jQuery(".domain-selection-options input:first");jQuery(s).iCheck("check"),jQuery(s).parents(".option").addClass("option-selected")}jQuery("#domain"+jQuery(".domain-selection-options input:checked").val()).show(),jQuery(".domain-selection-options input").on("ifChecked",function(e){jQuery(".domain-selection-options .option").removeClass("option-selected"),jQuery(this).parents(".option").addClass("option-selected"),jQuery(".domain-input-group").hide(),jQuery("#domain"+jQuery(this).val()).show()}),jQuery("#frmProductDomain").submit(function(e){e.preventDefault();var t=jQuery(this).find('button[type="submit"]'),i=jQuery("#DomainSearchResults"),n=jQuery("#spotlightTlds"),a=jQuery("#domainSuggestions"),r=jQuery("#btnDomainContinue"),o=jQuery(".domain-selection-options input:checked").val(),s=jQuery("#"+o+"sld"),d=s.val(),l="",u=jQuery("#frmProductDomainPid").val(),c="",h=jQuery("#idnLanguageSelector");if(jQuery(".field-error-msg").hide(),h.is(":visible")&&(h.slideUp(),h.find("select").val("")),"incart"==o)d=(s=jQuery("#"+o+"sld option:selected")).text();else if("subdomain"==o)l=(c=jQuery("#"+o+"tld option:selected")).text();else{if(l=(c=jQuery("#"+o+"tld")).val(),d&&!l)return c.tooltip("show"),c.focus(),!1;"."!=l.substr(0,1)&&(l="."+l)}if(!d)return s.tooltip("show"),s.focus(),!1;if(s.tooltip("hide"),c.length&&c.tooltip("hide"),jQuery('input[name="domainoption"]').iCheck("disable"),domainLookupCallCount=0,t.attr("disabled","disabled").addClass("disabled"),jQuery(".domain-lookup-result").hide(),jQuery("#primaryLookupResult div").filter(function(){return 0===$(this).closest("#idnLanguageSelector").length}).hide(),jQuery("#primaryLookupResult").find(".register-price-label").show().end().find(".transfer-price-label").hide(),jQuery(".domain-lookup-register-loader").hide(),jQuery(".domain-lookup-transfer-loader").hide(),jQuery(".domain-lookup-other-loader").hide(),"register"==o?jQuery(".domain-lookup-register-loader").show():"transfer"==o?jQuery(".domain-lookup-transfer-loader").show():jQuery(".domain-lookup-other-loader").show(),jQuery(".domain-lookup-loader").show(),a.find("div:not(.actions)").hide().end().find(".clone").remove(),jQuery("div.panel-footer.more-suggestions").hide().find("a").show().end().find("span.no-more").hide(),jQuery(".btn-add-to-cart").removeAttr("disabled").find("span").hide().end().find("span.to-add").show(),r.hide().attr("disabled","disabled"),"register"!=o&&(n.hide(),jQuery(".suggested-domains").hide()),i.is(":visible")||i.fadeIn(),"register"==o){n.fadeIn("fast"),jQuery("#resultDomainOption").val(o);var p=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"domain",domain:d+l,sld:d,tld:l,source:"cartAddDomain"},"json"),f=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"spotlight",domain:d+l,sld:d,tld:l,source:"cartAddDomain"},"json"),m=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"suggestions",domain:d+l,sld:d,tld:l,source:"cartAddDomain"},"json");p.done(function(e){jQuery.each(e.result,function(e,t){var i=null,n=jQuery("#primaryLookupResult"),a=n.find(".domain-available"),o=n.find(".domain-price"),s=n.find(".domain-unavailable"),d=n.find(".domain-invalid"),l=n.find(".domain-contact-support"),u=jQuery("#resultDomain"),c=jQuery("#resultDomainPricingTerm"),p=n.find(".domain-error");if(n.show(),jQuery(".domain-lookup-primary-loader").hide(),"string"!=typeof t&&!t.error&&t.isValidDomain)p.hide(),i=t.pricing,t.isAvailable&&"string"!=typeof i?(t.domainName!==t.idnDomainName&&h.not(":visible")&&h.slideDown(),t.preferredTLDNotAvailable&&s.show().find("strong").html(t.originalUnavailableDomain),l.hide(),a.show().find("strong").html(t.domainName),o.show().find("span.price").html(i[Object.keys(i)[0]].register).end().find("button").attr("data-domain",t.domainName),u.val(t.domainName),c.val(Object.keys(i)[0]).attr("name","domainsregperiod["+t.domainName+"]"),r.removeAttr("disabled")):(s.show().find("strong").html(t.domainName),l.hide(),"string"==typeof i&&"ContactUs"==i&&l.show());else{var f=!1,m=/<br\s*\/>/,y=[];if(!t.isValidDomain&&t.domainErrorMessage)d.text(t.domainErrorMessage);else if(t.error||"error"===e){if("string"==typeof t)p.text(t);else if(t.error.match(m)){p.text(""),y=t.error.split(m);for(var g=0;g<y.length;g++){var v=y[g];v.length&&(p.text()&&p.append("<br />"),p.append(jQuery("<span></span>").text(v)))}}else p.text(t.error);p.show(),f=!0}f||d.show()}})}).always(function(){hasProductDomainLookupEnded(3,t)}),f.done(function(e){"object"!=typeof e||0==e.result.length||e.result.error?jQuery(".domain-lookup-spotlight-loader").hide():jQuery.each(e.result,function(e,t){var i=t.tldNoDots,n=t.pricing,a=jQuery("#spotlight"+i+" .domain-lookup-result");jQuery(".domain-lookup-spotlight-loader").hide(),a.find("button").hide(),t.isValidDomain?t.isAvailable&&"string"!=typeof n?(t.domainName!==t.idnDomainName&&h.not(":visible")&&h.slideDown(),a.find("span.available").html(n[Object.keys(n)[0]].register).show().end().find("button.btn-add-to-cart").attr("data-domain",t.domainName).show(),a.find("button.domain-contact-support").hide()):"string"==typeof n?(""==n?a.find("button.unavailable").show():a.find("button.domain-contact-support").show(),a.find("span.available").hide()):(a.find("button.unavailable").show(),a.find("span.available").hide()):a.find("button.invalid:hidden").show().end().find("span.available").hide().end().find("button").not("button.invalid").hide(),a.show()})}).always(function(){hasProductDomainLookupEnded(3,t)}),m.done(function(e){if("object"!=typeof e||0==e.result.length||e.result.error)jQuery(".suggested-domains").fadeOut("fast",function(){jQuery(this).hide()});else{jQuery(".suggested-domains").show();var t=1;jQuery.each(e.result,function(e,i){var n=i.tld,r=i.pricing;a.find("div:first").clone(!0,!0).appendTo(a);var o=a.find("div.domain-suggestion").last();o.addClass("clone").find("span.domain").html(i.sld).end().find("span.extension").html("."+n),i.domainName!==i.idnDomainName&&h.not(":visible")&&h.slideDown(),"string"==typeof r?(o.find("button.btn-add-to-cart").remove(),""!=r?o.find("button.domain-contact-support").show().end().find("span.price").hide():o.remove()):o.find("button.btn-add-to-cart").attr("data-domain",i.domainName).end().find("span.price").html(r[Object.keys(r)[0]].register),t<=5&&o.show(),t++,i.group&&o.find("span.promo").addClass(i.group).html(i.group.toUpperCase()).show(),(furtherSuggestions=a.find("div.domain-suggestion.clone").not(":visible").length)>0&&jQuery("div.more-suggestions").show()}),jQuery(".domain-lookup-suggestions-loader").hide(),jQuery("#domainSuggestions").show()}}).always(function(){hasProductDomainLookupEnded(3,t)})}else if("transfer"==o){jQuery("#resultDomainOption").val(o),WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"transfer",domain:d+l,sld:d,tld:l,source:"cartAddDomain"},"json").done(function(e){if("object"==typeof e&&0!=e.result.length){var t=jQuery("#primaryLookupResult"),i=t.find(".transfer-eligible"),n=t.find(".domain-price"),a=t.find(".transfer-not-eligible"),o=jQuery("#resultDomain"),s=jQuery("#resultDomainPricingTerm");0===Object.keys(e.result).length&&(jQuery(".domain-lookup-primary-loader").hide(),t.show(),a.show()),jQuery.each(e.result,function(e,d){var l=d.pricing;jQuery(".domain-lookup-primary-loader").hide(),t.show(),d.isRegistered?(i.show(),n.show().find(".register-price-label").hide().end().find(".transfer-price-label").show().end().find("span.price").html(l[Object.keys(l)[0]].transfer).end().find("button").attr("data-domain",d.domainName),o.val(d.domainName),s.val(Object.keys(l)[0]).attr("name","domainsregperiod["+d.domainName+"]"),r.removeAttr("disabled")):a.show()})}else jQuery(".domain-lookup-primary-loader").hide()}).always(function(){hasProductDomainLookupEnded(1,t)})}else if("owndomain"==o||"subdomain"==o||"incart"==o){WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:o,pid:u,domain:d+l,sld:d,tld:l,source:"cartAddDomain"},"json").done(function(e){"object"==typeof e&&0!=e.result.length?jQuery.each(e.result,function(e,t){!0===t.status?window.location=whmcsBaseUrl+"/cart.php?a=confproduct&i="+t.num:(jQuery(".domain-lookup-primary-loader").hide(),"string"==typeof t?jQuery("#primaryLookupResult").show().find(".domain-error").text(t).show():jQuery("#primaryLookupResult").show().find(".domain-invalid").show())}):jQuery(".domain-lookup-subdomain-loader").hide()}).always(function(){hasProductDomainLookupEnded(1,t)})}r.show()}),jQuery("#frmProductDomainSelections").on("submit",function(e){var t=jQuery("#idnLanguageSelector"),i=t.find("select");return!(t.is(":visible")&&!i.val())||(e.preventDefault(),i.showInputError(),!1)}),jQuery("#btnAlreadyRegistered").click(function(){jQuery("#containerNewUserSignup").slideUp("",function(){jQuery("#containerExistingUserSignin").slideDown("",function(){jQuery("#inputCustType").val("existing"),jQuery("#btnAlreadyRegistered").fadeOut("",function(){jQuery("#btnNewUserSignup").fadeIn()})})}),jQuery("#containerNewUserSecurity").hide(),jQuery("#stateselect").attr("required")&&jQuery("#stateselect").removeAttr("required").addClass("requiredAttributeRemoved"),jQuery(".marketing-email-optin").slideUp()}),jQuery("#btnNewUserSignup").click(function(){jQuery("#containerExistingUserSignin").slideUp("",function(){jQuery("#containerNewUserSignup").slideDown("",function(){jQuery("#inputCustType").val("new"),0==jQuery("#passwdFeedback").html().length&&jQuery("#containerNewUserSecurity").show(),jQuery("#btnNewUserSignup").fadeOut("",function(){jQuery("#btnAlreadyRegistered").fadeIn()})}),jQuery(".marketing-email-optin").slideDown()}),jQuery("#stateselect").hasClass("requiredAttributeRemoved")&&jQuery("#stateselect").attr("required","required").removeClass("requiredAttributeRemoved")}),jQuery("#btnExistingLogin").click(function(){var e=jQuery("#inputLoginEmail").val(),t=jQuery("#inputLoginPassword").val(),i=jQuery("#existingLoginMessage"),n=jQuery("#btnExistingLogin");n.prop("disabled",!0).addClass("disabled").find("span").toggle(),WHMCS.http.jqClient.jsonPost({url:WHMCS.utils.getRouteUrl("/login/cart"),data:{username:e,password:t,token:csrfToken},success:function(e){e.redirectUrl?window.location.href=e.redirectUrl:location.reload(!0)},error:function(e){e&&(i.slideUp("fast").toggle().html(e).slideDown("fast"),n.prop("disabled",!1).removeClass("disabled").find("span").toggle())}})}),jQuery(".account-select").on("ifChecked",function(e){var t=jQuery("#containerNewUserSignup"),i=jQuery("#stateselect"),n=jQuery(this).val(),a=jQuery("#btnCompleteOrder"),r=jQuery("#existingCardsContainer"),o=jQuery("#inputEmail");if(r.length&&r.html(""),o.length&&o.attr("value",""),jQuery("#containerExistingAccountSelect").find("div.account.active").removeClass("active"),jQuery(this).closest("div.account").addClass("active"),"new"===n)t.not(":visible")&&(t.slideDown("",function(){jQuery("#inputCustType").val("add"),jQuery(".marketing-email-optin").slideDown()}),i.hasClass("requiredAttributeRemoved")&&i.attr("required","required").removeClass("requiredAttributeRemoved"));else{if(a.addClass("disabled"),a.hasClass("spinner-on-click")){var s=a.find("i.fas,i.far,i.fal,i.fab");jQuery(s).data("original-class",s.attr("class")).removeAttr("class").addClass("fas fa-spinner fa-spin")}jQuery("#inputCustType").val("account"),t.is(":visible")&&(t.slideUp(),i.attr("required")&&i.removeAttr("required").addClass("requiredAttributeRemoved"),jQuery(".marketing-email-optin").slideUp())}WHMCS.http.jqClient.jsonPost({url:WHMCS.utils.getRouteUrl("/cart/account/select"),data:{account_id:n,token:csrfToken},success:function(e){var t=jQuery("#applyCreditContainer");if(jQuery("#totalCartPrice").text(e.total),t.find("p").first().text(e.availableCreditBalance),!e.canUseCreditOnCheckout&&t.is(":visible")){var i=jQuery("#skipCreditOnCheckout");t.hide(),i.prop("checked",!0)}else if(e.canUseCreditOnCheckout){var n=jQuery("#useCreditOnCheckout"),a=jQuery("#spanFullCredit"),o=jQuery("#spanUseCredit");e.full?(hideCvcOnCheckoutForExistingCard="1",a.show().find("span").text(e.total),o.is(":visible")&&o.slideUp()):(hideCvcOnCheckoutForExistingCard="0",o.show().find("span").text(e.creditBalance),a.is(":visible")&&a.slideUp()),n.iCheck("check"),t.not(":visible")&&t.slideDown()}r.length&&(r.html(e.existingCards),r.find('input[type="radio"]').iCheck({inheritID:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"}),jQuery(".payment-methods:checked").trigger("ifChecked"),selectPreferredCard())},always:function(){if(a.removeClass("disabled"),a.hasClass("spinner-on-click")){var e=a.find("i.fas,i.far,i.fal,i.fab");jQuery(e).hasClass("fa-spinner")&&jQuery(e).removeAttr("class").addClass(e.data("original-class"))}}})});jQuery("#cvv-field-container");var d=jQuery("#existingCardsContainer"),l=jQuery("#newCardInfo"),u=jQuery("#newCardSaveSettings"),c=jQuery("#inputNoStoreContainer"),h=jQuery("#existingCardInfo"),p=jQuery("#new"),f=jQuery("#creditCardInputFields");jQuery(document).on("ifChecked",".existing-card",function(e){u.slideUp().find("input").attr("disabled","disabled"),1!==jQuery(".payment-methods:checked").data("remote-inputs")&&(l.slideUp().find("input").attr("disabled","disabled"),"1"!==hideCvcOnCheckoutForExistingCard?h.slideDown().find("input").removeAttr("disabled"):h.slideUp().find("input").attr("disabled","disabled"))}),p.on("ifChecked",function(e){u.slideDown().find("input").removeAttr("disabled"),1!==jQuery(".payment-methods:checked").data("remote-inputs")&&(l.slideDown().find("input").removeAttr("disabled"),h.slideUp().find("input").attr("disabled","disabled"))}),jQuery(".payment-methods").on("ifChecked",function(e){var t=jQuery(document).find(".existing-card");if(t.length||h.slideUp().find("input").attr("disabled","disabled"),jQuery(this).hasClass("is-credit-card")){var i=jQuery(this).data("payment-type"),n=jQuery(this).val(),a=jQuery(this).data("show-local"),r=[];"RemoteCreditCard"===i?c.hide().find("input").prop("disabled","disabled"):c.not(":visible")&&c.slideDown().find("input").removeProp("disabled"),t.each(function(e){var t=jQuery(this).data("payment-type"),o=jQuery(this).data("payment-gateway"),s=jQuery(this).val(),d=t===i,l=!1;"RemoteCreditCard"===i?l=o===n:"CreditCard"===i&&(l=!0),a&&"CreditCard"===t&&(d=!0,l=!0);var u=jQuery('[data-paymethod-id="'+s+'"]');d&&l?(jQuery(u).show(),r.push(this)):jQuery(u).hide()});var o=r.filter(function(e){return!jQuery(e).attr("disabled")});if(o.length>0){var s=null;jQuery.each(o,function(e,t){var i=jQuery(t),n=parseInt(i.data("order-preference"),10);if((null===s||n<s)&&(s=i.val(),0===n))return!1}),null===s&&(s="new"),jQuery.each(o,function(e,t){var i=jQuery(t);if(i.val()===s)return i.iCheck("check"),!1}),d.show(),"1"!==hideCvcOnCheckoutForExistingCard?h.show().find("input").removeAttr("disabled"):h.hide().find("input").attr("disabled","disabled")}else jQuery(p).iCheck("check"),d.hide(),h.hide().find("input").attr("disabled","disabled");f.is(":visible")||f.slideDown()}else f.slideUp()}),jQuery(".cc-input-container .paymethod-info").click(function(){var e=$(this).data("paymethod-id"),t=jQuery('input[name="ccinfo"][value='+e+"]:not(:disabled)");t.length>0&&t.iCheck("check")}),jQuery("#inputDomainContact").on("change",function(){var e=jQuery(this);"addingnew"===this.value?(e.closest("div").addClass("pb-2"),jQuery("#domainRegistrantInputFields").parent("div").slideDown()):jQuery("#domainRegistrantInputFields").parent("div").slideUp(function(){e.closest("div").removeClass("pb-2")})}),"function"==typeof registerFormPasswordStrengthFeedback?jQuery("#inputNewPassword1").keyup(registerFormPasswordStrengthFeedback):jQuery("#inputNewPassword1").keyup(function(){passwordStrength=getPasswordStrength(jQuery(this).val()),passwordStrength>=75?(textLabel=langPasswordStrong,cssClass="success"):passwordStrength>=30?(textLabel=langPasswordModerate,cssClass="warning"):(textLabel=langPasswordWeak,cssClass="danger"),jQuery("#passwordStrengthTextLabel").html(langPasswordStrength+": "+passwordStrength+"% "+textLabel),jQuery("#passwordStrengthMeterBar").css("width",passwordStrength+"%").attr("aria-valuenow",passwordStrength),jQuery("#passwordStrengthMeterBar").removeClass("progress-bar-success progress-bar-warning progress-bar-danger").addClass("progress-bar-"+cssClass)}),jQuery("#inputDomain").on("shown.bs.tooltip",function(){setTimeout(function(e){e.tooltip("hide")},5e3,jQuery(this))}),jQuery("#frmDomainChecker").submit(function(e){if(e.preventDefault(),void 0===recaptchaValidationComplete||void 0===recaptchaType||"invisible"!==recaptchaType||!1!==recaptchaValidationComplete){var t=jQuery("#frmDomainChecker"),i=jQuery("#inputDomain"),n=jQuery("#domainSuggestions"),a=jQuery("#divDynamicRecaptcha"),r=jQuery("#inputCaptcha"),o=jQuery("#idnLanguageSelector");if(jQuery(".field-error-msg").hide(),o.is(":visible")&&(o.slideUp(),o.find("select").val("")),domainLookupCallCount=0,!i.val())return i.tooltip("show"),void i.focus();if(i.tooltip("hide"),jQuery("#captchaContainer").length)validate_captcha(t);else{a.tooltip("hide"),r.tooltip("hide"),jQuery("#btnCheckAvailability").attr("disabled","disabled").addClass("disabled"),jQuery(".domain-lookup-result").hide(),jQuery(".domain-lookup-loader").show(),n.find("div:not(.actions)").hide(),n.find(".clone").remove(),jQuery("div.panel-footer.more-suggestions").hide().find("a").show().end().find("span.no-more").hide(),jQuery(".btn-add-to-cart").removeAttr("disabled").find("span").hide().end().find("span.to-add").show(),jQuery("#DomainSearchResults").not(":visible")&&jQuery(".domain-pricing").fadeOut("fast",function(){jQuery("#DomainSearchResults").fadeIn()});var s=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),t.serialize()+"&type=domain","json"),d=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),t.serialize()+"&type=spotlight","json"),l=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),t.serialize()+"&type=suggestions","json");s.done(function(e){"object"==typeof e&&0!=e.result.length?jQuery.each(e.result,function(e,t){var i=null,n=jQuery("#primaryLookupResult"),a=n.find(".domain-available"),r=n.find(".domain-price"),s=n.find(".domain-contact-support"),d=n.find(".domain-unavailable"),l=n.find(".domain-invalid"),u=n.find(".domain-error");if(jQuery(".domain-lookup-primary-loader").hide(),n.find(".btn-add-to-cart").removeClass("checkout"),n.show(),"string"!=typeof t&&!t.error&&t.isValidDomain)i=t.pricing,d.hide(),s.hide(),l.hide(),u.hide(),t.isAvailable&&"string"!=typeof i?(t.domainName!==t.idnDomainName&&o.not(":visible")&&o.slideDown(),t.preferredTLDNotAvailable&&d.show().find("strong").html(t.originalUnavailableDomain),a.show().find("strong").html(t.domainName),r.show().find("span.price").html(i[Object.keys(i)[0]].register).end().find("button").attr("data-domain",t.domainName)):(a.hide(),r.hide(),s.hide(),d.show().find("strong").html(t.domainName),"string"==typeof i&&"ContactUs"==i&&s.show());else{a.hide(),r.hide(),d.hide(),s.hide(),l.hide(),u.hide();var c=!1,h=/<br\s*\/>/,p=[];if(!t.isValidDomain&&t.domainErrorMessage)l.text(t.domainErrorMessage);else if(t.error||"error"===e){if("string"==typeof t)u.text(t);else if(t.error.match(h)){u.text(""),p=t.error.split(h);for(var f=0;f<p.length;f++){var m=p[f];m.length&&(u.text()&&u.append("<br />"),u.append(jQuery("<span></span>").text(m)))}}else u.text(t.error);u.show(),c=!0}c||l.show()}}):jQuery(".domain-lookup-primary-loader").hide()}).always(function(){hasDomainLookupEnded()}),d.done(function(e){"object"!=typeof e||0==e.result.length||e.result.error?jQuery(".domain-lookup-spotlight-loader").hide():jQuery.each(e.result,function(e,t){var i=t.tldNoDots,n=t.pricing,a=jQuery("#spotlight"+i+" .domain-lookup-result");jQuery(".domain-lookup-spotlight-loader").hide(),a.find("button").hide(),t.isValidDomain?t.isAvailable&&"string"!=typeof n?(t.domainName!==t.idnDomainName&&o.not(":visible")&&o.slideDown(),a.find("button.unavailable").hide().end().find("button.invalid").hide().end().find("span.available").html(n[Object.keys(n)[0]].register).show().end().find("button").not("button.unavailable").not("button.invalid").attr("data-domain",t.domainName).show(),a.find("button.domain-contact-support").hide()):"string"==typeof n?(""==n?a.find("button.unavailable").show():a.find("button.domain-contact-support").show(),a.find("button.invalid").hide(),a.find("span.available").hide()):a.find("button.invalid").hide().end().find("button.unavailable").show().end().find("span.available").hide():a.find("button.invalid:hidden").show().end().find("span.available").hide().end().find("button").not("button.invalid").hide(),a.show()})}).always(function(){hasDomainLookupEnded()}),l.done(function(e){if("object"!=typeof e||0==e.result.length||e.result.error)jQuery(".suggested-domains").fadeOut("fast",function(){jQuery(this).hide()});else{jQuery(".suggested-domains").show();var t=1;jQuery.each(e.result,function(e,i){var a=i.tld,r=i.pricing;n.find("div:first").clone(!0,!0).appendTo(n);var s=n.find("div.domain-suggestion").last();s.addClass("clone").find("span.domain").html(i.sld).end().find("span.extension").html("."+a),"string"==typeof r?(s.find("button.btn-add-to-cart").remove(),""!=r?s.find("button.domain-contact-support").show().end().find("span.price").hide():s.remove()):(i.domainName!==i.idnDomainName&&o.not(":visible")&&o.slideDown(),s.find("button.btn-add-to-cart").attr("data-domain",i.domainName).end().find("span.price").html(r[Object.keys(r)[0]].register)),t<=10&&s.show(),t++,i.group&&(s.find("span.promo").addClass(i.group).show(),s.find("span.sales-group-"+i.group).show()),(furtherSuggestions=n.find("div.domain-suggestion.clone:hidden").length)>0&&jQuery("div.more-suggestions").show()}),jQuery(".domain-lookup-suggestions-loader").hide(),jQuery("#domainSuggestions").show()}}).always(function(){hasDomainLookupEnded()})}}}),jQuery(".btn-add-to-cart").on("click",function(){if(jQuery(this).hasClass("checkout"))window.location=whmcsBaseUrl+"/cart.php?a=confdomains";else{var e=jQuery(this).attr("data-domain"),t=jQuery('button[data-domain="'+e+'"]'),i=jQuery(this).attr("data-whois"),n=jQuery(this).hasClass("product-domain"),a=jQuery("#btnDomainContinue"),r=jQuery("#resultDomain"),o=jQuery("#resultDomainPricingTerm"),s=jQuery("#idnLanguageSelector"),d=s.find("select");if(!s.is(":visible")||d.val()){t.find("span.to-add").hide(),t.find("span.loading").show();var l=jQuery(this).parents(".spotlight-tlds").length>0||jQuery(this).parents(".suggested-domains").length>0?1:0;WHMCS.http.jqClient.post(whmcsBaseUrl+"/cart.php",{a:"addToCart",domain:e,token:csrfToken,whois:i,sideorder:l,idnlanguage:d.val()},"json").done(function(i){t.find("span.loading").hide(),"added"===i.result?(t.find("span.added").show(),n||t.removeAttr("disabled").addClass("checkout"),r.length&&!r.val()&&(r.val(e),o.val(i.period).attr("name","domainsregperiod["+e+"]"),a.length>0&&a.is(":disabled")&&a.removeAttr("disabled")),jQuery("#cartItemCount").html(i.cartCount)):(t.find("span.available.price").hide(),t.find("span.unavailable").show(),t.attr("disabled","disabled"))})}else d.showInputError()}}),jQuery("#frmDomainTransfer").submit(function(e){if(e.preventDefault(),void 0===recaptchaValidationComplete||void 0===recaptchaType||"invisible"!==recaptchaType||!1!==recaptchaValidationComplete){var t=jQuery("#frmDomainTransfer"),i=jQuery("#btnTransferDomain"),n=jQuery("#inputTransferDomain"),a=jQuery("#inputAuthCode"),r=n.val(),o=a.val(),s=!1,d=jQuery("#divDynamicRecaptcha"),l=jQuery("#inputCaptcha");if(!r)return n.tooltip("show"),n.focus(),!1;n.tooltip("hide"),jQuery("#captchaContainer").length?validate_captcha(t):(d.tooltip("hide"),l.tooltip("hide"),i.attr("disabled","disabled").addClass("disabled").find("span").show().end().find(".loader").show(),WHMCS.http.jqClient.post(t.attr("action"),t.serialize(),null,"json").done(function(e){if("object"!=typeof e)return i.find("span").hide().end().find("#addToCart").show().end().removeAttr("disabled").removeClass("disabled"),!1;var t=e.result;"added"==t?(window.location=whmcsBaseUrl+"/cart.php?a=confdomains",s=!0):1==t.isRegistered?1!=t.epp||o||(a.tooltip("show"),a.focus()):jQuery("#transferUnavailable").html(t.unavailable).fadeIn("fast",function(){setTimeout(function(e){e.fadeOut("fast")},3e3,jQuery(this))})}).always(function(){0==s&&i.find("span").hide().end().find("#addToCart").show().end().removeAttr("disabled").removeClass("disabled")}))}}),jQuery("#btnEmptyCart").click(function(){jQuery("#modalEmptyCart").modal("show")}),jQuery("#cardType li a").click(function(e){e.preventDefault(),jQuery("#selectedCardType").html(jQuery(this).html()),jQuery("#cctype").val(jQuery("span.type",this).html().trim())}),jQuery(document).on("click",".domain-contact-support",function(e){e.preventDefault();var t=window.open();t.opener=null,t.location="submitticket.php"}),jQuery("#frmConfigureProduct input:visible, #frmConfigureProduct select:visible").first().focus(),jQuery("#frmProductDomain input[type=text]:visible").first().focus(),jQuery("#frmDomainChecker input[type=text]:visible").first().focus(),jQuery("#frmDomainTransfer input[type=text]:visible").first().focus(),jQuery(".checkout .mc-promo .btn-add").click(function(e){var t=jQuery(this),i=t.data("product-key"),n=jQuery("#promo_"+i);t.attr("disabled","disabled").find("span.arrow i").removeClass("fa-chevron-right").addClass("fa-spinner fa-spin"),WHMCS.http.jqClient.post(window.location.pathname,{a:"addUpSell",product_key:i,checkoutModal:!0,token:csrfToken},function(e){void 0===e.modal?e.done&&(jQuery("#totalCartPrice").text(e.newTotal),n.fadeOut()):openModal(e.modal,"",e.modalTitle,"","",e.modalSubmit,e.modelSubmitId)},"json")}),jQuery(".viewcart .mc-promo .btn-add").click(function(e){var t=jQuery(this);t.attr("disabled","disabled").find("span.arrow i").removeClass("fa-chevron-right").addClass("fa-spinner fa-spin"),WHMCS.http.jqClient.post(window.location.pathname,{a:"addUpSell",product_key:t.data("product-key"),token:csrfToken},function(e){void 0===e.modal?window.location.reload(!0):openModal(e.modal,"",e.modalTitle,"","",e.modalSubmit,e.modelSubmitId)},"json")}),jQuery(document).on("click","#btnAddUpSellCheckout",function(e){var t=jQuery("#upsellModalForm");return WHMCS.http.jqClient.post(whmcsBaseUrl+"/cart.php",t.serialize(),function(e){e.done&&jQuery("#totalCartPrice").text(e.newTotal)},"json"),!1});var m=jQuery("#iCheck-useCreditOnCheckout"),y=jQuery("#iCheck-skipCreditOnCheckout");m.on("ifChecked",function(){var e=jQuery("#useCreditOnCheckout"),t=jQuery('input[name="paymentmethod"]:checked'),i=jQuery('input[name="ccinfo"]:checked'),n=t.hasClass("is-credit-card"),a=jQuery('input[name="paymentmethod"]').not(jQuery('input.is-credit-card[name="paymentmethod"]')).first(),r=jQuery("#paymentGatewaysContainer"),o=jQuery("#existingCardInfo"),s=jQuery("#creditCardInputFields"),d=jQuery("#spanFullCredit"),l=!0;e.prop("checked")&&(d.is(":hidden")&&(l=!1),n&&0!==a.length?(a.iCheck("check"),s.slideUp(),l&&r.slideUp()):!n&&r.is(":visible")?l&&r.slideUp():l&&!n||r.is(":visible")||(s.slideDown(),r.slideDown()),n&&"new"!==i.val()&&(d.is(":visible")?(hideCvcOnCheckoutForExistingCard="1",o.hide().find("input").attr("disabled","disabled")):o.show().find("input").removeAttr("disabled")))}),y.on("ifChecked",function(){var e=jQuery('input[name="paymentmethod"]:checked'),t=jQuery('input[name="ccinfo"]:checked'),i=e.hasClass("is-credit-card"),n=jQuery("#existingCardInfo"),a=jQuery("#paymentGatewaysContainer");a.is(":visible")||a.slideDown(),i&&(hideCvcOnCheckoutForExistingCard="0","new"!==t.val()&&n.show().find("input").removeAttr("disabled"),jQuery("#creditCardInputFields").slideDown())});var g=jQuery("#applyCreditContainer");g.is(":visible")&&1===g.data("apply-credit")&&m.length&&(y.iCheck("check"),m.iCheck("check")),jQuery("#domainRenewals").find("span.added").hide().end().find("span.to-add").find("i").hide(),jQuery(".btn-add-renewal-to-cart").on("click",function(){var e=jQuery(this),t=e.data("domain-id"),i=jQuery("#renewalPricing"+t).val();e.hasClass("checkout")?window.location=whmcsBaseUrl+"/cart.php?a=view":(e.attr("disabled","disabled").each(function(){jQuery(this).find("i").fadeIn("fast").end().css("width",jQuery(this).outerWidth())}),WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/cart/domain/renew/add"),{domainId:t,period:i,token:csrfToken},null,"json").done(function(t){e.find("span.to-add").hide(),"added"===t.result&&e.find("span.added").show().end().find("i").fadeOut("fast").css("width",e.outerWidth()),recalculateRenewalTotals()}))}),jQuery(document).on("submit","#removeRenewalForm",function(e){e.preventDefault(),WHMCS.http.jqClient.post(whmcsBaseUrl+"/cart.php",jQuery(this).serialize()+"&ajax=1").done(function(e){var t=e.i;jQuery("#renewDomain"+t).attr("disabled","disabled").each(function(){jQuery(this).find("span.added").hide().end().removeClass("checkout").find("span.to-add").show().end().removeAttr("disabled"),jQuery(this).css("width",jQuery(this).outerWidth())})}).always(function(){jQuery("#modalRemoveItem").modal("hide"),recalculateRenewalTotals()})}),jQuery(".select-renewal-pricing").on("change",function(){var e=jQuery(this).data("domain-id");jQuery("#renewDomain"+e).attr("disabled","disabled").each(function(){jQuery(this).css("width",jQuery(this).outerWidth()),jQuery(this).find("span.added").hide().end().removeClass("checkout").find("span.to-add").show().end().removeAttr("disabled")})}),jQuery("#domainRenewalFilter").on("keyup",function(){var e=jQuery(this).val().toLowerCase();jQuery("#domainRenewals").find("div.domain-renewal").filter(function(){jQuery(this).toggle(jQuery(this).data("domain").toLowerCase().indexOf(e)>-1)})}),(checkoutForm=jQuery("#frmCheckout")).length&&checkoutForm.on("submit",validateCheckoutCreditCardInput),jQuery(".payment-methods:checked").trigger("ifChecked"),d.is(":visible")&&d.find("input.existing-card").length>0&&l.slideUp()});